const searchButton=document.querySelector(".search-button"),searchForm=document.querySelector(".search-form"),arrivalDate=searchForm.querySelector("#arrival_date"),depatureDate=searchForm.querySelector("#depature_date"),adult=searchForm.querySelector("#adult"),children=searchForm.querySelector("#children");let isStorageSupport=!0,storageAdult="",storageChildren="";searchForm.classList.add("search-form-hidden");try{storageAdult=localStorage.getItem("adult"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}storageAdult&&(adult.value=storageAdult),storageChildren&&(children.value=storageChildren),searchButton.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.contains("search-form-hidden")?(searchForm.classList.remove("search-form-hidden"),arrivalDate.focus()):(searchForm.classList.add("search-form-hidden"),searchForm.classList.remove("search-form-error"))}),searchForm.addEventListener("submit",function(e){arrivalDate.value&&depatureDate.value&&adult.value?isStorageSupport&&(localStorage.setItem("adult",adult.value),localStorage.setItem("children",children.value)):(e.preventDefault(),searchForm.classList.remove("search-form-error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("search-form-error"))}),window.addEventListener("keydown",function(e){"Escape"===e.key&&(searchForm.classList.contains("search-form-hidden")||(e.preventDefault(),searchForm.classList.add("search-form-hidden"),searchForm.classList.remove("search-form-error")))});
